# 逻辑地址到物理地址的转换
逻辑地址需要经过硬件电路中的分段单元转换成线性地址，然后线性地址再经过硬件中的分页单元转换成物理地址。
## 分段单元
==逻辑地址=段标识符（16b）+偏移量（32b）==
linux中的逻辑地址与线性地址是一致的。
### 段标识符
也叫做段选择符，存储在段寄存器中，目的是找到下面提到的段描述符的存储地址。
段标识符中的索引号和表指示器（TI）用于找到指定的段描述符。其中索引号是描述符表中的第几个描述符，TI是应该到哪个描述符表去找。
### 段描述符
描述符了段的各种特征，其中与地址转换息息相关的是其中的base字段，表示的是转换过程中的线性地址。
段描述符可能会放在内核的全局描述符表（GDT）或进程的局部描述符表（LDT）。
### 转换过程
从段寄存器中取出段选择符，根据其中的TI去找对应的描述符表，索引号\*8作为在描述符表中的偏移项，并且和描述符表寄存器中的描述符表基地址相加，得到描述符的地址，从描述符地址中取出base字段得到线性地址的基地址，再将这个地址与偏移量相加，即可得到逻辑地址。
### 段描述符的非编程寄存器优化
当一个段选择符被装入段寄存器时，对应的段描述符就被硬件存入非编程寄存器中，后续就不再需要通过段选择符查找，而是直接通过这个寄存器查找。
### GDT表
GDT表和CPU是一一对应的。每个GDT表有32项，每一项都是8字节的全局描述符。








